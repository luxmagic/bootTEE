ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"w5500.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.WIZCHIP_READ,"ax",%progbits
  20              		.align	1
  21              		.global	WIZCHIP_READ
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	WIZCHIP_READ:
  27              	.LFB0:
  28              		.file 1 "ioLIB/W5500/w5500.c"
   1:ioLIB/W5500/w5500.c **** //*****************************************************************************
   2:ioLIB/W5500/w5500.c **** //
   3:ioLIB/W5500/w5500.c **** //! \file w5500.c
   4:ioLIB/W5500/w5500.c **** //! \brief W5500 HAL Interface.
   5:ioLIB/W5500/w5500.c **** //! \version 1.0.2
   6:ioLIB/W5500/w5500.c **** //! \date 2013/10/21
   7:ioLIB/W5500/w5500.c **** //! \par  Revision history
   8:ioLIB/W5500/w5500.c **** //!       <2015/02/05> Notice
   9:ioLIB/W5500/w5500.c **** //!        The version history is not updated after this point.
  10:ioLIB/W5500/w5500.c **** //!        Download the latest version directly from GitHub. Please visit the our GitHub repository
  11:ioLIB/W5500/w5500.c **** //!        >> https://github.com/Wiznet/ioLibrary_Driver
  12:ioLIB/W5500/w5500.c **** //!       <2014/05/01> V1.0.2
  13:ioLIB/W5500/w5500.c **** //!         1. Implicit type casting -> Explicit type casting. Refer to M20140501
  14:ioLIB/W5500/w5500.c **** //!            Fixed the problem on porting into under 32bit MCU
  15:ioLIB/W5500/w5500.c **** //!            Issued by Mathias ClauBen, wizwiki forum ID Think01 and bobh
  16:ioLIB/W5500/w5500.c **** //!            Thank for your interesting and serious advices.
  17:ioLIB/W5500/w5500.c **** //!       <2013/12/20> V1.0.1
  18:ioLIB/W5500/w5500.c **** //!         1. Remove warning
  19:ioLIB/W5500/w5500.c **** //!         2. WIZCHIP_READ_BUF WIZCHIP_WRITE_BUF in case _WIZCHIP_IO_MODE_SPI_FDM_
  20:ioLIB/W5500/w5500.c **** //!            for loop optimized(removed). refer to M20131220
  21:ioLIB/W5500/w5500.c **** //!       <2013/10/21> 1st Release
  22:ioLIB/W5500/w5500.c **** //! \author MidnightCow
  23:ioLIB/W5500/w5500.c **** //! \copyright
  24:ioLIB/W5500/w5500.c **** //!
  25:ioLIB/W5500/w5500.c **** //! Copyright (c)  2013, WIZnet Co., LTD.
  26:ioLIB/W5500/w5500.c **** //! All rights reserved.
  27:ioLIB/W5500/w5500.c **** //! 
  28:ioLIB/W5500/w5500.c **** //! Redistribution and use in source and binary forms, with or without 
  29:ioLIB/W5500/w5500.c **** //! modification, are permitted provided that the following conditions 
  30:ioLIB/W5500/w5500.c **** //! are met: 
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 2


  31:ioLIB/W5500/w5500.c **** //! 
  32:ioLIB/W5500/w5500.c **** //!     * Redistributions of source code must retain the above copyright 
  33:ioLIB/W5500/w5500.c **** //! notice, this list of conditions and the following disclaimer. 
  34:ioLIB/W5500/w5500.c **** //!     * Redistributions in binary form must reproduce the above copyright
  35:ioLIB/W5500/w5500.c **** //! notice, this list of conditions and the following disclaimer in the
  36:ioLIB/W5500/w5500.c **** //! documentation and/or other materials provided with the distribution. 
  37:ioLIB/W5500/w5500.c **** //!     * Neither the name of the <ORGANIZATION> nor the names of its 
  38:ioLIB/W5500/w5500.c **** //! contributors may be used to endorse or promote products derived 
  39:ioLIB/W5500/w5500.c **** //! from this software without specific prior written permission. 
  40:ioLIB/W5500/w5500.c **** //! 
  41:ioLIB/W5500/w5500.c **** //! THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  42:ioLIB/W5500/w5500.c **** //! AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
  43:ioLIB/W5500/w5500.c **** //! IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  44:ioLIB/W5500/w5500.c **** //! ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE 
  45:ioLIB/W5500/w5500.c **** //! LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
  46:ioLIB/W5500/w5500.c **** //! CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
  47:ioLIB/W5500/w5500.c **** //! SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  48:ioLIB/W5500/w5500.c **** //! INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
  49:ioLIB/W5500/w5500.c **** //! CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  50:ioLIB/W5500/w5500.c **** //! ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF 
  51:ioLIB/W5500/w5500.c **** //! THE POSSIBILITY OF SUCH DAMAGE.
  52:ioLIB/W5500/w5500.c **** //
  53:ioLIB/W5500/w5500.c **** //*****************************************************************************
  54:ioLIB/W5500/w5500.c **** //#include <stdio.h>
  55:ioLIB/W5500/w5500.c **** #include "w5500.h"
  56:ioLIB/W5500/w5500.c **** 
  57:ioLIB/W5500/w5500.c **** #define _W5500_SPI_VDM_OP_          0x00
  58:ioLIB/W5500/w5500.c **** #define _W5500_SPI_FDM_OP_LEN1_     0x01
  59:ioLIB/W5500/w5500.c **** #define _W5500_SPI_FDM_OP_LEN2_     0x02
  60:ioLIB/W5500/w5500.c **** #define _W5500_SPI_FDM_OP_LEN4_     0x03
  61:ioLIB/W5500/w5500.c **** 
  62:ioLIB/W5500/w5500.c **** #if   (_WIZCHIP_ == 5500)
  63:ioLIB/W5500/w5500.c **** ////////////////////////////////////////////////////
  64:ioLIB/W5500/w5500.c **** 
  65:ioLIB/W5500/w5500.c **** uint8_t  WIZCHIP_READ(uint32_t AddrSel)
  66:ioLIB/W5500/w5500.c **** {
  29              		.loc 1 66 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 16
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 84B0     		sub	sp, sp, #16
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 24
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
  67:ioLIB/W5500/w5500.c ****    uint8_t ret;
  68:ioLIB/W5500/w5500.c ****    uint8_t spi_data[3];
  69:ioLIB/W5500/w5500.c **** 
  70:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_ENTER();
  45              		.loc 1 70 4
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 3


  46 0008 224B     		ldr	r3, .L6
  47 000a DB68     		ldr	r3, [r3, #12]
  48 000c 9847     		blx	r3
  49              	.LVL0:
  71:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._select();
  50              		.loc 1 71 14
  51 000e 214B     		ldr	r3, .L6
  52 0010 5B69     		ldr	r3, [r3, #20]
  53              		.loc 1 71 4
  54 0012 9847     		blx	r3
  55              	.LVL1:
  72:ioLIB/W5500/w5500.c **** 
  73:ioLIB/W5500/w5500.c ****    AddrSel |= (_W5500_SPI_READ_ | _W5500_SPI_VDM_OP_);
  74:ioLIB/W5500/w5500.c **** 
  75:ioLIB/W5500/w5500.c ****    if(!WIZCHIP.IF.SPI._read_burst || !WIZCHIP.IF.SPI._write_burst) 	// byte operation
  56              		.loc 1 75 22
  57 0014 1F4B     		ldr	r3, .L6
  58 0016 5B6A     		ldr	r3, [r3, #36]
  59              		.loc 1 75 6
  60 0018 002B     		cmp	r3, #0
  61 001a 03D0     		beq	.L2
  62              		.loc 1 75 53 discriminator 1
  63 001c 1D4B     		ldr	r3, .L6
  64 001e 9B6A     		ldr	r3, [r3, #40]
  65              		.loc 1 75 35 discriminator 1
  66 0020 002B     		cmp	r3, #0
  67 0022 14D1     		bne	.L3
  68              	.L2:
  76:ioLIB/W5500/w5500.c ****    {
  77:ioLIB/W5500/w5500.c **** 	   WIZCHIP.IF.SPI._write_byte((AddrSel & 0x00FF0000) >> 16);
  69              		.loc 1 77 19
  70 0024 1B4B     		ldr	r3, .L6
  71 0026 1B6A     		ldr	r3, [r3, #32]
  72              		.loc 1 77 55
  73 0028 7A68     		ldr	r2, [r7, #4]
  74 002a 120C     		lsrs	r2, r2, #16
  75              		.loc 1 77 5
  76 002c D2B2     		uxtb	r2, r2
  77 002e 1046     		mov	r0, r2
  78 0030 9847     		blx	r3
  79              	.LVL2:
  78:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x0000FF00) >>  8);
  80              		.loc 1 78 17
  81 0032 184B     		ldr	r3, .L6
  82 0034 1B6A     		ldr	r3, [r3, #32]
  83              		.loc 1 78 53
  84 0036 7A68     		ldr	r2, [r7, #4]
  85 0038 120A     		lsrs	r2, r2, #8
  86              		.loc 1 78 3
  87 003a D2B2     		uxtb	r2, r2
  88 003c 1046     		mov	r0, r2
  89 003e 9847     		blx	r3
  90              	.LVL3:
  79:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x000000FF) >>  0);
  91              		.loc 1 79 17
  92 0040 144B     		ldr	r3, .L6
  93 0042 1B6A     		ldr	r3, [r3, #32]
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 4


  94              		.loc 1 79 3
  95 0044 7A68     		ldr	r2, [r7, #4]
  96 0046 D2B2     		uxtb	r2, r2
  97 0048 1046     		mov	r0, r2
  98 004a 9847     		blx	r3
  99              	.LVL4:
 100 004c 11E0     		b	.L4
 101              	.L3:
  80:ioLIB/W5500/w5500.c ****    }
  81:ioLIB/W5500/w5500.c ****    else																// burst operation
  82:ioLIB/W5500/w5500.c ****    {
  83:ioLIB/W5500/w5500.c **** 		spi_data[0] = (AddrSel & 0x00FF0000) >> 16;
 102              		.loc 1 83 40
 103 004e 7B68     		ldr	r3, [r7, #4]
 104 0050 1B0C     		lsrs	r3, r3, #16
 105              		.loc 1 83 15
 106 0052 DBB2     		uxtb	r3, r3
 107 0054 3B73     		strb	r3, [r7, #12]
  84:ioLIB/W5500/w5500.c **** 		spi_data[1] = (AddrSel & 0x0000FF00) >> 8;
 108              		.loc 1 84 40
 109 0056 7B68     		ldr	r3, [r7, #4]
 110 0058 1B0A     		lsrs	r3, r3, #8
 111              		.loc 1 84 15
 112 005a DBB2     		uxtb	r3, r3
 113 005c 7B73     		strb	r3, [r7, #13]
  85:ioLIB/W5500/w5500.c **** 		spi_data[2] = (AddrSel & 0x000000FF) >> 0;
 114              		.loc 1 85 15
 115 005e 7B68     		ldr	r3, [r7, #4]
 116 0060 DBB2     		uxtb	r3, r3
 117 0062 BB73     		strb	r3, [r7, #14]
  86:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_burst(spi_data, 3);
 118              		.loc 1 86 17
 119 0064 0B4B     		ldr	r3, .L6
 120 0066 9B6A     		ldr	r3, [r3, #40]
 121              		.loc 1 86 3
 122 0068 07F10C02 		add	r2, r7, #12
 123 006c 0321     		movs	r1, #3
 124 006e 1046     		mov	r0, r2
 125 0070 9847     		blx	r3
 126              	.LVL5:
 127              	.L4:
  87:ioLIB/W5500/w5500.c ****    }
  88:ioLIB/W5500/w5500.c ****    ret = WIZCHIP.IF.SPI._read_byte();
 128              		.loc 1 88 24
 129 0072 084B     		ldr	r3, .L6
 130 0074 DB69     		ldr	r3, [r3, #28]
 131              		.loc 1 88 10
 132 0076 9847     		blx	r3
 133              	.LVL6:
 134 0078 0346     		mov	r3, r0
 135 007a FB73     		strb	r3, [r7, #15]
  89:ioLIB/W5500/w5500.c **** 
  90:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._deselect();
 136              		.loc 1 90 14
 137 007c 054B     		ldr	r3, .L6
 138 007e 9B69     		ldr	r3, [r3, #24]
 139              		.loc 1 90 4
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 5


 140 0080 9847     		blx	r3
 141              	.LVL7:
  91:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_EXIT();
 142              		.loc 1 91 4
 143 0082 044B     		ldr	r3, .L6
 144 0084 1B69     		ldr	r3, [r3, #16]
 145 0086 9847     		blx	r3
 146              	.LVL8:
  92:ioLIB/W5500/w5500.c ****    return ret;
 147              		.loc 1 92 11
 148 0088 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  93:ioLIB/W5500/w5500.c **** }
 149              		.loc 1 93 1
 150 008a 1846     		mov	r0, r3
 151 008c 1037     		adds	r7, r7, #16
 152              	.LCFI3:
 153              		.cfi_def_cfa_offset 8
 154 008e BD46     		mov	sp, r7
 155              	.LCFI4:
 156              		.cfi_def_cfa_register 13
 157              		@ sp needed
 158 0090 80BD     		pop	{r7, pc}
 159              	.L7:
 160 0092 00BF     		.align	2
 161              	.L6:
 162 0094 00000000 		.word	WIZCHIP
 163              		.cfi_endproc
 164              	.LFE0:
 166              		.section	.text.WIZCHIP_WRITE,"ax",%progbits
 167              		.align	1
 168              		.global	WIZCHIP_WRITE
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 173              	WIZCHIP_WRITE:
 174              	.LFB1:
  94:ioLIB/W5500/w5500.c **** 
  95:ioLIB/W5500/w5500.c **** void     WIZCHIP_WRITE(uint32_t AddrSel, uint8_t wb )
  96:ioLIB/W5500/w5500.c **** {
 175              		.loc 1 96 1
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 16
 178              		@ frame_needed = 1, uses_anonymous_args = 0
 179 0000 80B5     		push	{r7, lr}
 180              	.LCFI5:
 181              		.cfi_def_cfa_offset 8
 182              		.cfi_offset 7, -8
 183              		.cfi_offset 14, -4
 184 0002 84B0     		sub	sp, sp, #16
 185              	.LCFI6:
 186              		.cfi_def_cfa_offset 24
 187 0004 00AF     		add	r7, sp, #0
 188              	.LCFI7:
 189              		.cfi_def_cfa_register 7
 190 0006 7860     		str	r0, [r7, #4]
 191 0008 0B46     		mov	r3, r1
 192 000a FB70     		strb	r3, [r7, #3]
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 6


  97:ioLIB/W5500/w5500.c ****    uint8_t spi_data[4];
  98:ioLIB/W5500/w5500.c **** 
  99:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_ENTER();
 193              		.loc 1 99 4
 194 000c 224B     		ldr	r3, .L11
 195 000e DB68     		ldr	r3, [r3, #12]
 196 0010 9847     		blx	r3
 197              	.LVL9:
 100:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._select();
 198              		.loc 1 100 14
 199 0012 214B     		ldr	r3, .L11
 200 0014 5B69     		ldr	r3, [r3, #20]
 201              		.loc 1 100 4
 202 0016 9847     		blx	r3
 203              	.LVL10:
 101:ioLIB/W5500/w5500.c **** 
 102:ioLIB/W5500/w5500.c ****    AddrSel |= (_W5500_SPI_WRITE_ | _W5500_SPI_VDM_OP_);
 204              		.loc 1 102 12
 205 0018 7B68     		ldr	r3, [r7, #4]
 206 001a 43F00403 		orr	r3, r3, #4
 207 001e 7B60     		str	r3, [r7, #4]
 103:ioLIB/W5500/w5500.c **** 
 104:ioLIB/W5500/w5500.c ****    //if(!WIZCHIP.IF.SPI._read_burst || !WIZCHIP.IF.SPI._write_burst) 	// byte operation
 105:ioLIB/W5500/w5500.c ****    if(!WIZCHIP.IF.SPI._write_burst) 	// byte operation
 208              		.loc 1 105 22
 209 0020 1D4B     		ldr	r3, .L11
 210 0022 9B6A     		ldr	r3, [r3, #40]
 211              		.loc 1 105 6
 212 0024 002B     		cmp	r3, #0
 213 0026 19D1     		bne	.L9
 106:ioLIB/W5500/w5500.c ****    {
 107:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x00FF0000) >> 16);
 214              		.loc 1 107 17
 215 0028 1B4B     		ldr	r3, .L11
 216 002a 1B6A     		ldr	r3, [r3, #32]
 217              		.loc 1 107 53
 218 002c 7A68     		ldr	r2, [r7, #4]
 219 002e 120C     		lsrs	r2, r2, #16
 220              		.loc 1 107 3
 221 0030 D2B2     		uxtb	r2, r2
 222 0032 1046     		mov	r0, r2
 223 0034 9847     		blx	r3
 224              	.LVL11:
 108:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x0000FF00) >>  8);
 225              		.loc 1 108 17
 226 0036 184B     		ldr	r3, .L11
 227 0038 1B6A     		ldr	r3, [r3, #32]
 228              		.loc 1 108 53
 229 003a 7A68     		ldr	r2, [r7, #4]
 230 003c 120A     		lsrs	r2, r2, #8
 231              		.loc 1 108 3
 232 003e D2B2     		uxtb	r2, r2
 233 0040 1046     		mov	r0, r2
 234 0042 9847     		blx	r3
 235              	.LVL12:
 109:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x000000FF) >>  0);
 236              		.loc 1 109 17
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 7


 237 0044 144B     		ldr	r3, .L11
 238 0046 1B6A     		ldr	r3, [r3, #32]
 239              		.loc 1 109 3
 240 0048 7A68     		ldr	r2, [r7, #4]
 241 004a D2B2     		uxtb	r2, r2
 242 004c 1046     		mov	r0, r2
 243 004e 9847     		blx	r3
 244              	.LVL13:
 110:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte(wb);
 245              		.loc 1 110 17
 246 0050 114B     		ldr	r3, .L11
 247 0052 1B6A     		ldr	r3, [r3, #32]
 248              		.loc 1 110 3
 249 0054 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 250 0056 1046     		mov	r0, r2
 251 0058 9847     		blx	r3
 252              	.LVL14:
 253 005a 13E0     		b	.L10
 254              	.L9:
 111:ioLIB/W5500/w5500.c ****    }
 112:ioLIB/W5500/w5500.c ****    else									// burst operation
 113:ioLIB/W5500/w5500.c ****    {
 114:ioLIB/W5500/w5500.c **** 		spi_data[0] = (AddrSel & 0x00FF0000) >> 16;
 255              		.loc 1 114 40
 256 005c 7B68     		ldr	r3, [r7, #4]
 257 005e 1B0C     		lsrs	r3, r3, #16
 258              		.loc 1 114 15
 259 0060 DBB2     		uxtb	r3, r3
 260 0062 3B73     		strb	r3, [r7, #12]
 115:ioLIB/W5500/w5500.c **** 		spi_data[1] = (AddrSel & 0x0000FF00) >> 8;
 261              		.loc 1 115 40
 262 0064 7B68     		ldr	r3, [r7, #4]
 263 0066 1B0A     		lsrs	r3, r3, #8
 264              		.loc 1 115 15
 265 0068 DBB2     		uxtb	r3, r3
 266 006a 7B73     		strb	r3, [r7, #13]
 116:ioLIB/W5500/w5500.c **** 		spi_data[2] = (AddrSel & 0x000000FF) >> 0;
 267              		.loc 1 116 15
 268 006c 7B68     		ldr	r3, [r7, #4]
 269 006e DBB2     		uxtb	r3, r3
 270 0070 BB73     		strb	r3, [r7, #14]
 117:ioLIB/W5500/w5500.c **** 		spi_data[3] = wb;
 271              		.loc 1 117 15
 272 0072 FB78     		ldrb	r3, [r7, #3]
 273 0074 FB73     		strb	r3, [r7, #15]
 118:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_burst(spi_data, 4);
 274              		.loc 1 118 17
 275 0076 084B     		ldr	r3, .L11
 276 0078 9B6A     		ldr	r3, [r3, #40]
 277              		.loc 1 118 3
 278 007a 07F10C02 		add	r2, r7, #12
 279 007e 0421     		movs	r1, #4
 280 0080 1046     		mov	r0, r2
 281 0082 9847     		blx	r3
 282              	.LVL15:
 283              	.L10:
 119:ioLIB/W5500/w5500.c ****    }
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 8


 120:ioLIB/W5500/w5500.c **** 
 121:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._deselect();
 284              		.loc 1 121 14
 285 0084 044B     		ldr	r3, .L11
 286 0086 9B69     		ldr	r3, [r3, #24]
 287              		.loc 1 121 4
 288 0088 9847     		blx	r3
 289              	.LVL16:
 122:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_EXIT();
 290              		.loc 1 122 4
 291 008a 034B     		ldr	r3, .L11
 292 008c 1B69     		ldr	r3, [r3, #16]
 293 008e 9847     		blx	r3
 294              	.LVL17:
 123:ioLIB/W5500/w5500.c **** }
 295              		.loc 1 123 1
 296 0090 00BF     		nop
 297 0092 1037     		adds	r7, r7, #16
 298              	.LCFI8:
 299              		.cfi_def_cfa_offset 8
 300 0094 BD46     		mov	sp, r7
 301              	.LCFI9:
 302              		.cfi_def_cfa_register 13
 303              		@ sp needed
 304 0096 80BD     		pop	{r7, pc}
 305              	.L12:
 306              		.align	2
 307              	.L11:
 308 0098 00000000 		.word	WIZCHIP
 309              		.cfi_endproc
 310              	.LFE1:
 312              		.section	.text.WIZCHIP_READ_BUF,"ax",%progbits
 313              		.align	1
 314              		.global	WIZCHIP_READ_BUF
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 319              	WIZCHIP_READ_BUF:
 320              	.LFB2:
 124:ioLIB/W5500/w5500.c ****          
 125:ioLIB/W5500/w5500.c **** void     WIZCHIP_READ_BUF (uint32_t AddrSel, uint8_t* pBuf, uint16_t len)
 126:ioLIB/W5500/w5500.c **** {
 321              		.loc 1 126 1
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 24
 324              		@ frame_needed = 1, uses_anonymous_args = 0
 325 0000 90B5     		push	{r4, r7, lr}
 326              	.LCFI10:
 327              		.cfi_def_cfa_offset 12
 328              		.cfi_offset 4, -12
 329              		.cfi_offset 7, -8
 330              		.cfi_offset 14, -4
 331 0002 87B0     		sub	sp, sp, #28
 332              	.LCFI11:
 333              		.cfi_def_cfa_offset 40
 334 0004 00AF     		add	r7, sp, #0
 335              	.LCFI12:
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 9


 336              		.cfi_def_cfa_register 7
 337 0006 F860     		str	r0, [r7, #12]
 338 0008 B960     		str	r1, [r7, #8]
 339 000a 1346     		mov	r3, r2
 340 000c FB80     		strh	r3, [r7, #6]	@ movhi
 127:ioLIB/W5500/w5500.c ****    uint8_t spi_data[3];
 128:ioLIB/W5500/w5500.c ****    uint16_t i;
 129:ioLIB/W5500/w5500.c **** 
 130:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_ENTER();
 341              		.loc 1 130 4
 342 000e 2B4B     		ldr	r3, .L19
 343 0010 DB68     		ldr	r3, [r3, #12]
 344 0012 9847     		blx	r3
 345              	.LVL18:
 131:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._select();
 346              		.loc 1 131 14
 347 0014 294B     		ldr	r3, .L19
 348 0016 5B69     		ldr	r3, [r3, #20]
 349              		.loc 1 131 4
 350 0018 9847     		blx	r3
 351              	.LVL19:
 132:ioLIB/W5500/w5500.c **** 
 133:ioLIB/W5500/w5500.c ****    AddrSel |= (_W5500_SPI_READ_ | _W5500_SPI_VDM_OP_);
 134:ioLIB/W5500/w5500.c **** 
 135:ioLIB/W5500/w5500.c ****    if(!WIZCHIP.IF.SPI._read_burst || !WIZCHIP.IF.SPI._write_burst) 	// byte operation
 352              		.loc 1 135 22
 353 001a 284B     		ldr	r3, .L19
 354 001c 5B6A     		ldr	r3, [r3, #36]
 355              		.loc 1 135 6
 356 001e 002B     		cmp	r3, #0
 357 0020 03D0     		beq	.L14
 358              		.loc 1 135 53 discriminator 1
 359 0022 264B     		ldr	r3, .L19
 360 0024 9B6A     		ldr	r3, [r3, #40]
 361              		.loc 1 135 35 discriminator 1
 362 0026 002B     		cmp	r3, #0
 363 0028 26D1     		bne	.L15
 364              	.L14:
 136:ioLIB/W5500/w5500.c ****    {
 137:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x00FF0000) >> 16);
 365              		.loc 1 137 17
 366 002a 244B     		ldr	r3, .L19
 367 002c 1B6A     		ldr	r3, [r3, #32]
 368              		.loc 1 137 53
 369 002e FA68     		ldr	r2, [r7, #12]
 370 0030 120C     		lsrs	r2, r2, #16
 371              		.loc 1 137 3
 372 0032 D2B2     		uxtb	r2, r2
 373 0034 1046     		mov	r0, r2
 374 0036 9847     		blx	r3
 375              	.LVL20:
 138:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x0000FF00) >>  8);
 376              		.loc 1 138 17
 377 0038 204B     		ldr	r3, .L19
 378 003a 1B6A     		ldr	r3, [r3, #32]
 379              		.loc 1 138 53
 380 003c FA68     		ldr	r2, [r7, #12]
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 10


 381 003e 120A     		lsrs	r2, r2, #8
 382              		.loc 1 138 3
 383 0040 D2B2     		uxtb	r2, r2
 384 0042 1046     		mov	r0, r2
 385 0044 9847     		blx	r3
 386              	.LVL21:
 139:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x000000FF) >>  0);
 387              		.loc 1 139 17
 388 0046 1D4B     		ldr	r3, .L19
 389 0048 1B6A     		ldr	r3, [r3, #32]
 390              		.loc 1 139 3
 391 004a FA68     		ldr	r2, [r7, #12]
 392 004c D2B2     		uxtb	r2, r2
 393 004e 1046     		mov	r0, r2
 394 0050 9847     		blx	r3
 395              	.LVL22:
 140:ioLIB/W5500/w5500.c **** 		for(i = 0; i < len; i++)
 396              		.loc 1 140 9
 397 0052 0023     		movs	r3, #0
 398 0054 FB82     		strh	r3, [r7, #22]	@ movhi
 399              		.loc 1 140 3
 400 0056 0AE0     		b	.L16
 401              	.L17:
 141:ioLIB/W5500/w5500.c **** 		   pBuf[i] = WIZCHIP.IF.SPI._read_byte();
 402              		.loc 1 141 30 discriminator 3
 403 0058 184B     		ldr	r3, .L19
 404 005a DB69     		ldr	r3, [r3, #28]
 405              		.loc 1 141 10 discriminator 3
 406 005c FA8A     		ldrh	r2, [r7, #22]
 407 005e B968     		ldr	r1, [r7, #8]
 408 0060 8C18     		adds	r4, r1, r2
 409              		.loc 1 141 16 discriminator 3
 410 0062 9847     		blx	r3
 411              	.LVL23:
 412 0064 0346     		mov	r3, r0
 413              		.loc 1 141 14 discriminator 3
 414 0066 2370     		strb	r3, [r4]
 140:ioLIB/W5500/w5500.c **** 		for(i = 0; i < len; i++)
 415              		.loc 1 140 24 discriminator 3
 416 0068 FB8A     		ldrh	r3, [r7, #22]
 417 006a 0133     		adds	r3, r3, #1
 418 006c FB82     		strh	r3, [r7, #22]	@ movhi
 419              	.L16:
 140:ioLIB/W5500/w5500.c **** 		for(i = 0; i < len; i++)
 420              		.loc 1 140 3 discriminator 1
 421 006e FA8A     		ldrh	r2, [r7, #22]
 422 0070 FB88     		ldrh	r3, [r7, #6]
 423 0072 9A42     		cmp	r2, r3
 424 0074 F0D3     		bcc	.L17
 135:ioLIB/W5500/w5500.c ****    {
 425              		.loc 1 135 6
 426 0076 17E0     		b	.L18
 427              	.L15:
 142:ioLIB/W5500/w5500.c ****    }
 143:ioLIB/W5500/w5500.c ****    else																// burst operation
 144:ioLIB/W5500/w5500.c ****    {
 145:ioLIB/W5500/w5500.c **** 		spi_data[0] = (AddrSel & 0x00FF0000) >> 16;
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 11


 428              		.loc 1 145 40
 429 0078 FB68     		ldr	r3, [r7, #12]
 430 007a 1B0C     		lsrs	r3, r3, #16
 431              		.loc 1 145 15
 432 007c DBB2     		uxtb	r3, r3
 433 007e 3B74     		strb	r3, [r7, #16]
 146:ioLIB/W5500/w5500.c **** 		spi_data[1] = (AddrSel & 0x0000FF00) >> 8;
 434              		.loc 1 146 40
 435 0080 FB68     		ldr	r3, [r7, #12]
 436 0082 1B0A     		lsrs	r3, r3, #8
 437              		.loc 1 146 15
 438 0084 DBB2     		uxtb	r3, r3
 439 0086 7B74     		strb	r3, [r7, #17]
 147:ioLIB/W5500/w5500.c **** 		spi_data[2] = (AddrSel & 0x000000FF) >> 0;
 440              		.loc 1 147 15
 441 0088 FB68     		ldr	r3, [r7, #12]
 442 008a DBB2     		uxtb	r3, r3
 443 008c BB74     		strb	r3, [r7, #18]
 148:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_burst(spi_data, 3);
 444              		.loc 1 148 17
 445 008e 0B4B     		ldr	r3, .L19
 446 0090 9B6A     		ldr	r3, [r3, #40]
 447              		.loc 1 148 3
 448 0092 07F11002 		add	r2, r7, #16
 449 0096 0321     		movs	r1, #3
 450 0098 1046     		mov	r0, r2
 451 009a 9847     		blx	r3
 452              	.LVL24:
 149:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._read_burst(pBuf, len);
 453              		.loc 1 149 17
 454 009c 074B     		ldr	r3, .L19
 455 009e 5B6A     		ldr	r3, [r3, #36]
 456              		.loc 1 149 3
 457 00a0 FA88     		ldrh	r2, [r7, #6]
 458 00a2 1146     		mov	r1, r2
 459 00a4 B868     		ldr	r0, [r7, #8]
 460 00a6 9847     		blx	r3
 461              	.LVL25:
 462              	.L18:
 150:ioLIB/W5500/w5500.c ****    }
 151:ioLIB/W5500/w5500.c **** 
 152:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._deselect();
 463              		.loc 1 152 14
 464 00a8 044B     		ldr	r3, .L19
 465 00aa 9B69     		ldr	r3, [r3, #24]
 466              		.loc 1 152 4
 467 00ac 9847     		blx	r3
 468              	.LVL26:
 153:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_EXIT();
 469              		.loc 1 153 4
 470 00ae 034B     		ldr	r3, .L19
 471 00b0 1B69     		ldr	r3, [r3, #16]
 472 00b2 9847     		blx	r3
 473              	.LVL27:
 154:ioLIB/W5500/w5500.c **** }
 474              		.loc 1 154 1
 475 00b4 00BF     		nop
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 12


 476 00b6 1C37     		adds	r7, r7, #28
 477              	.LCFI13:
 478              		.cfi_def_cfa_offset 12
 479 00b8 BD46     		mov	sp, r7
 480              	.LCFI14:
 481              		.cfi_def_cfa_register 13
 482              		@ sp needed
 483 00ba 90BD     		pop	{r4, r7, pc}
 484              	.L20:
 485              		.align	2
 486              	.L19:
 487 00bc 00000000 		.word	WIZCHIP
 488              		.cfi_endproc
 489              	.LFE2:
 491              		.section	.text.WIZCHIP_WRITE_BUF,"ax",%progbits
 492              		.align	1
 493              		.global	WIZCHIP_WRITE_BUF
 494              		.syntax unified
 495              		.thumb
 496              		.thumb_func
 498              	WIZCHIP_WRITE_BUF:
 499              	.LFB3:
 155:ioLIB/W5500/w5500.c **** 
 156:ioLIB/W5500/w5500.c **** void     WIZCHIP_WRITE_BUF(uint32_t AddrSel, uint8_t* pBuf, uint16_t len)
 157:ioLIB/W5500/w5500.c **** {
 500              		.loc 1 157 1
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 24
 503              		@ frame_needed = 1, uses_anonymous_args = 0
 504 0000 80B5     		push	{r7, lr}
 505              	.LCFI15:
 506              		.cfi_def_cfa_offset 8
 507              		.cfi_offset 7, -8
 508              		.cfi_offset 14, -4
 509 0002 86B0     		sub	sp, sp, #24
 510              	.LCFI16:
 511              		.cfi_def_cfa_offset 32
 512 0004 00AF     		add	r7, sp, #0
 513              	.LCFI17:
 514              		.cfi_def_cfa_register 7
 515 0006 F860     		str	r0, [r7, #12]
 516 0008 B960     		str	r1, [r7, #8]
 517 000a 1346     		mov	r3, r2
 518 000c FB80     		strh	r3, [r7, #6]	@ movhi
 158:ioLIB/W5500/w5500.c ****    uint8_t spi_data[3];
 159:ioLIB/W5500/w5500.c ****    uint16_t i;
 160:ioLIB/W5500/w5500.c **** 
 161:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_ENTER();
 519              		.loc 1 161 4
 520 000e 2B4B     		ldr	r3, .L26
 521 0010 DB68     		ldr	r3, [r3, #12]
 522 0012 9847     		blx	r3
 523              	.LVL28:
 162:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._select();
 524              		.loc 1 162 14
 525 0014 294B     		ldr	r3, .L26
 526 0016 5B69     		ldr	r3, [r3, #20]
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 13


 527              		.loc 1 162 4
 528 0018 9847     		blx	r3
 529              	.LVL29:
 163:ioLIB/W5500/w5500.c **** 
 164:ioLIB/W5500/w5500.c ****    AddrSel |= (_W5500_SPI_WRITE_ | _W5500_SPI_VDM_OP_);
 530              		.loc 1 164 12
 531 001a FB68     		ldr	r3, [r7, #12]
 532 001c 43F00403 		orr	r3, r3, #4
 533 0020 FB60     		str	r3, [r7, #12]
 165:ioLIB/W5500/w5500.c **** 
 166:ioLIB/W5500/w5500.c ****    if(!WIZCHIP.IF.SPI._write_burst) 	// byte operation
 534              		.loc 1 166 22
 535 0022 264B     		ldr	r3, .L26
 536 0024 9B6A     		ldr	r3, [r3, #40]
 537              		.loc 1 166 6
 538 0026 002B     		cmp	r3, #0
 539 0028 26D1     		bne	.L22
 167:ioLIB/W5500/w5500.c ****    {
 168:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x00FF0000) >> 16);
 540              		.loc 1 168 17
 541 002a 244B     		ldr	r3, .L26
 542 002c 1B6A     		ldr	r3, [r3, #32]
 543              		.loc 1 168 53
 544 002e FA68     		ldr	r2, [r7, #12]
 545 0030 120C     		lsrs	r2, r2, #16
 546              		.loc 1 168 3
 547 0032 D2B2     		uxtb	r2, r2
 548 0034 1046     		mov	r0, r2
 549 0036 9847     		blx	r3
 550              	.LVL30:
 169:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x0000FF00) >>  8);
 551              		.loc 1 169 17
 552 0038 204B     		ldr	r3, .L26
 553 003a 1B6A     		ldr	r3, [r3, #32]
 554              		.loc 1 169 53
 555 003c FA68     		ldr	r2, [r7, #12]
 556 003e 120A     		lsrs	r2, r2, #8
 557              		.loc 1 169 3
 558 0040 D2B2     		uxtb	r2, r2
 559 0042 1046     		mov	r0, r2
 560 0044 9847     		blx	r3
 561              	.LVL31:
 170:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_byte((AddrSel & 0x000000FF) >>  0);
 562              		.loc 1 170 17
 563 0046 1D4B     		ldr	r3, .L26
 564 0048 1B6A     		ldr	r3, [r3, #32]
 565              		.loc 1 170 3
 566 004a FA68     		ldr	r2, [r7, #12]
 567 004c D2B2     		uxtb	r2, r2
 568 004e 1046     		mov	r0, r2
 569 0050 9847     		blx	r3
 570              	.LVL32:
 171:ioLIB/W5500/w5500.c **** 		for(i = 0; i < len; i++)
 571              		.loc 1 171 9
 572 0052 0023     		movs	r3, #0
 573 0054 FB82     		strh	r3, [r7, #22]	@ movhi
 574              		.loc 1 171 3
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 14


 575 0056 0AE0     		b	.L23
 576              	.L24:
 172:ioLIB/W5500/w5500.c **** 			WIZCHIP.IF.SPI._write_byte(pBuf[i]);
 577              		.loc 1 172 18 discriminator 3
 578 0058 184B     		ldr	r3, .L26
 579 005a 1B6A     		ldr	r3, [r3, #32]
 580              		.loc 1 172 35 discriminator 3
 581 005c FA8A     		ldrh	r2, [r7, #22]
 582 005e B968     		ldr	r1, [r7, #8]
 583 0060 0A44     		add	r2, r2, r1
 584              		.loc 1 172 4 discriminator 3
 585 0062 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 586 0064 1046     		mov	r0, r2
 587 0066 9847     		blx	r3
 588              	.LVL33:
 171:ioLIB/W5500/w5500.c **** 		for(i = 0; i < len; i++)
 589              		.loc 1 171 24 discriminator 3
 590 0068 FB8A     		ldrh	r3, [r7, #22]
 591 006a 0133     		adds	r3, r3, #1
 592 006c FB82     		strh	r3, [r7, #22]	@ movhi
 593              	.L23:
 171:ioLIB/W5500/w5500.c **** 		for(i = 0; i < len; i++)
 594              		.loc 1 171 3 discriminator 1
 595 006e FA8A     		ldrh	r2, [r7, #22]
 596 0070 FB88     		ldrh	r3, [r7, #6]
 597 0072 9A42     		cmp	r2, r3
 598 0074 F0D3     		bcc	.L24
 599 0076 17E0     		b	.L25
 600              	.L22:
 173:ioLIB/W5500/w5500.c ****    }
 174:ioLIB/W5500/w5500.c ****    else									// burst operation
 175:ioLIB/W5500/w5500.c ****    {
 176:ioLIB/W5500/w5500.c **** 		spi_data[0] = (AddrSel & 0x00FF0000) >> 16;
 601              		.loc 1 176 40
 602 0078 FB68     		ldr	r3, [r7, #12]
 603 007a 1B0C     		lsrs	r3, r3, #16
 604              		.loc 1 176 15
 605 007c DBB2     		uxtb	r3, r3
 606 007e 3B74     		strb	r3, [r7, #16]
 177:ioLIB/W5500/w5500.c **** 		spi_data[1] = (AddrSel & 0x0000FF00) >> 8;
 607              		.loc 1 177 40
 608 0080 FB68     		ldr	r3, [r7, #12]
 609 0082 1B0A     		lsrs	r3, r3, #8
 610              		.loc 1 177 15
 611 0084 DBB2     		uxtb	r3, r3
 612 0086 7B74     		strb	r3, [r7, #17]
 178:ioLIB/W5500/w5500.c **** 		spi_data[2] = (AddrSel & 0x000000FF) >> 0;
 613              		.loc 1 178 15
 614 0088 FB68     		ldr	r3, [r7, #12]
 615 008a DBB2     		uxtb	r3, r3
 616 008c BB74     		strb	r3, [r7, #18]
 179:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_burst(spi_data, 3);
 617              		.loc 1 179 17
 618 008e 0B4B     		ldr	r3, .L26
 619 0090 9B6A     		ldr	r3, [r3, #40]
 620              		.loc 1 179 3
 621 0092 07F11002 		add	r2, r7, #16
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 15


 622 0096 0321     		movs	r1, #3
 623 0098 1046     		mov	r0, r2
 624 009a 9847     		blx	r3
 625              	.LVL34:
 180:ioLIB/W5500/w5500.c **** 		WIZCHIP.IF.SPI._write_burst(pBuf, len);
 626              		.loc 1 180 17
 627 009c 074B     		ldr	r3, .L26
 628 009e 9B6A     		ldr	r3, [r3, #40]
 629              		.loc 1 180 3
 630 00a0 FA88     		ldrh	r2, [r7, #6]
 631 00a2 1146     		mov	r1, r2
 632 00a4 B868     		ldr	r0, [r7, #8]
 633 00a6 9847     		blx	r3
 634              	.LVL35:
 635              	.L25:
 181:ioLIB/W5500/w5500.c ****    }
 182:ioLIB/W5500/w5500.c **** 
 183:ioLIB/W5500/w5500.c ****    WIZCHIP.CS._deselect();
 636              		.loc 1 183 14
 637 00a8 044B     		ldr	r3, .L26
 638 00aa 9B69     		ldr	r3, [r3, #24]
 639              		.loc 1 183 4
 640 00ac 9847     		blx	r3
 641              	.LVL36:
 184:ioLIB/W5500/w5500.c ****    WIZCHIP_CRITICAL_EXIT();
 642              		.loc 1 184 4
 643 00ae 034B     		ldr	r3, .L26
 644 00b0 1B69     		ldr	r3, [r3, #16]
 645 00b2 9847     		blx	r3
 646              	.LVL37:
 185:ioLIB/W5500/w5500.c **** }
 647              		.loc 1 185 1
 648 00b4 00BF     		nop
 649 00b6 1837     		adds	r7, r7, #24
 650              	.LCFI18:
 651              		.cfi_def_cfa_offset 8
 652 00b8 BD46     		mov	sp, r7
 653              	.LCFI19:
 654              		.cfi_def_cfa_register 13
 655              		@ sp needed
 656 00ba 80BD     		pop	{r7, pc}
 657              	.L27:
 658              		.align	2
 659              	.L26:
 660 00bc 00000000 		.word	WIZCHIP
 661              		.cfi_endproc
 662              	.LFE3:
 664              		.section	.text.getSn_TX_FSR,"ax",%progbits
 665              		.align	1
 666              		.global	getSn_TX_FSR
 667              		.syntax unified
 668              		.thumb
 669              		.thumb_func
 671              	getSn_TX_FSR:
 672              	.LFB4:
 186:ioLIB/W5500/w5500.c **** 
 187:ioLIB/W5500/w5500.c **** 
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 16


 188:ioLIB/W5500/w5500.c **** uint16_t getSn_TX_FSR(uint8_t sn)
 189:ioLIB/W5500/w5500.c **** {
 673              		.loc 1 189 1
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 16
 676              		@ frame_needed = 1, uses_anonymous_args = 0
 677 0000 90B5     		push	{r4, r7, lr}
 678              	.LCFI20:
 679              		.cfi_def_cfa_offset 12
 680              		.cfi_offset 4, -12
 681              		.cfi_offset 7, -8
 682              		.cfi_offset 14, -4
 683 0002 85B0     		sub	sp, sp, #20
 684              	.LCFI21:
 685              		.cfi_def_cfa_offset 32
 686 0004 00AF     		add	r7, sp, #0
 687              	.LCFI22:
 688              		.cfi_def_cfa_register 7
 689 0006 0346     		mov	r3, r0
 690 0008 FB71     		strb	r3, [r7, #7]
 190:ioLIB/W5500/w5500.c ****    uint16_t val=0,val1=0;
 691              		.loc 1 190 13
 692 000a 0023     		movs	r3, #0
 693 000c FB81     		strh	r3, [r7, #14]	@ movhi
 694              		.loc 1 190 19
 695 000e 0023     		movs	r3, #0
 696 0010 BB81     		strh	r3, [r7, #12]	@ movhi
 697              	.L30:
 191:ioLIB/W5500/w5500.c **** 
 192:ioLIB/W5500/w5500.c ****    do
 193:ioLIB/W5500/w5500.c ****    {
 194:ioLIB/W5500/w5500.c ****       val1 = WIZCHIP_READ(Sn_TX_FSR(sn));
 698              		.loc 1 194 27
 699 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 700 0014 9B00     		lsls	r3, r3, #2
 701 0016 0133     		adds	r3, r3, #1
 702 0018 DB00     		lsls	r3, r3, #3
 703 001a 03F50053 		add	r3, r3, #8192
 704              		.loc 1 194 14
 705 001e 1846     		mov	r0, r3
 706 0020 FFF7FEFF 		bl	WIZCHIP_READ
 707 0024 0346     		mov	r3, r0
 708              		.loc 1 194 12
 709 0026 BB81     		strh	r3, [r7, #12]	@ movhi
 195:ioLIB/W5500/w5500.c ****       val1 = (val1 << 8) + WIZCHIP_READ(WIZCHIP_OFFSET_INC(Sn_TX_FSR(sn),1));
 710              		.loc 1 195 20
 711 0028 BB89     		ldrh	r3, [r7, #12]	@ movhi
 712 002a 1B02     		lsls	r3, r3, #8
 713 002c 9CB2     		uxth	r4, r3
 714              		.loc 1 195 41
 715 002e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 716 0030 9B00     		lsls	r3, r3, #2
 717 0032 0133     		adds	r3, r3, #1
 718 0034 DB00     		lsls	r3, r3, #3
 719 0036 03F50453 		add	r3, r3, #8448
 720              		.loc 1 195 28
 721 003a 1846     		mov	r0, r3
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 17


 722 003c FFF7FEFF 		bl	WIZCHIP_READ
 723 0040 0346     		mov	r3, r0
 724 0042 9BB2     		uxth	r3, r3
 725              		.loc 1 195 12
 726 0044 2344     		add	r3, r3, r4
 727 0046 BB81     		strh	r3, [r7, #12]	@ movhi
 196:ioLIB/W5500/w5500.c ****       if (val1 != 0)
 728              		.loc 1 196 10
 729 0048 BB89     		ldrh	r3, [r7, #12]
 730 004a 002B     		cmp	r3, #0
 731 004c 1AD0     		beq	.L29
 197:ioLIB/W5500/w5500.c ****       {
 198:ioLIB/W5500/w5500.c ****         val = WIZCHIP_READ(Sn_TX_FSR(sn));
 732              		.loc 1 198 28
 733 004e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 734 0050 9B00     		lsls	r3, r3, #2
 735 0052 0133     		adds	r3, r3, #1
 736 0054 DB00     		lsls	r3, r3, #3
 737 0056 03F50053 		add	r3, r3, #8192
 738              		.loc 1 198 15
 739 005a 1846     		mov	r0, r3
 740 005c FFF7FEFF 		bl	WIZCHIP_READ
 741 0060 0346     		mov	r3, r0
 742              		.loc 1 198 13
 743 0062 FB81     		strh	r3, [r7, #14]	@ movhi
 199:ioLIB/W5500/w5500.c ****         val = (val << 8) + WIZCHIP_READ(WIZCHIP_OFFSET_INC(Sn_TX_FSR(sn),1));
 744              		.loc 1 199 20
 745 0064 FB89     		ldrh	r3, [r7, #14]	@ movhi
 746 0066 1B02     		lsls	r3, r3, #8
 747 0068 9CB2     		uxth	r4, r3
 748              		.loc 1 199 41
 749 006a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 750 006c 9B00     		lsls	r3, r3, #2
 751 006e 0133     		adds	r3, r3, #1
 752 0070 DB00     		lsls	r3, r3, #3
 753 0072 03F50453 		add	r3, r3, #8448
 754              		.loc 1 199 28
 755 0076 1846     		mov	r0, r3
 756 0078 FFF7FEFF 		bl	WIZCHIP_READ
 757 007c 0346     		mov	r3, r0
 758 007e 9BB2     		uxth	r3, r3
 759              		.loc 1 199 13
 760 0080 2344     		add	r3, r3, r4
 761 0082 FB81     		strh	r3, [r7, #14]	@ movhi
 762              	.L29:
 200:ioLIB/W5500/w5500.c ****       }
 201:ioLIB/W5500/w5500.c ****    }while (val != val1);
 763              		.loc 1 201 4
 764 0084 FA89     		ldrh	r2, [r7, #14]
 765 0086 BB89     		ldrh	r3, [r7, #12]
 766 0088 9A42     		cmp	r2, r3
 767 008a C2D1     		bne	.L30
 202:ioLIB/W5500/w5500.c ****    return val;
 768              		.loc 1 202 11
 769 008c FB89     		ldrh	r3, [r7, #14]
 203:ioLIB/W5500/w5500.c **** }
 770              		.loc 1 203 1
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 18


 771 008e 1846     		mov	r0, r3
 772 0090 1437     		adds	r7, r7, #20
 773              	.LCFI23:
 774              		.cfi_def_cfa_offset 12
 775 0092 BD46     		mov	sp, r7
 776              	.LCFI24:
 777              		.cfi_def_cfa_register 13
 778              		@ sp needed
 779 0094 90BD     		pop	{r4, r7, pc}
 780              		.cfi_endproc
 781              	.LFE4:
 783              		.section	.text.getSn_RX_RSR,"ax",%progbits
 784              		.align	1
 785              		.global	getSn_RX_RSR
 786              		.syntax unified
 787              		.thumb
 788              		.thumb_func
 790              	getSn_RX_RSR:
 791              	.LFB5:
 204:ioLIB/W5500/w5500.c **** 
 205:ioLIB/W5500/w5500.c **** 
 206:ioLIB/W5500/w5500.c **** uint16_t getSn_RX_RSR(uint8_t sn)
 207:ioLIB/W5500/w5500.c **** {
 792              		.loc 1 207 1
 793              		.cfi_startproc
 794              		@ args = 0, pretend = 0, frame = 16
 795              		@ frame_needed = 1, uses_anonymous_args = 0
 796 0000 90B5     		push	{r4, r7, lr}
 797              	.LCFI25:
 798              		.cfi_def_cfa_offset 12
 799              		.cfi_offset 4, -12
 800              		.cfi_offset 7, -8
 801              		.cfi_offset 14, -4
 802 0002 85B0     		sub	sp, sp, #20
 803              	.LCFI26:
 804              		.cfi_def_cfa_offset 32
 805 0004 00AF     		add	r7, sp, #0
 806              	.LCFI27:
 807              		.cfi_def_cfa_register 7
 808 0006 0346     		mov	r3, r0
 809 0008 FB71     		strb	r3, [r7, #7]
 208:ioLIB/W5500/w5500.c ****    uint16_t val=0,val1=0;
 810              		.loc 1 208 13
 811 000a 0023     		movs	r3, #0
 812 000c FB81     		strh	r3, [r7, #14]	@ movhi
 813              		.loc 1 208 19
 814 000e 0023     		movs	r3, #0
 815 0010 BB81     		strh	r3, [r7, #12]	@ movhi
 816              	.L34:
 209:ioLIB/W5500/w5500.c **** 
 210:ioLIB/W5500/w5500.c ****    do
 211:ioLIB/W5500/w5500.c ****    {
 212:ioLIB/W5500/w5500.c ****       val1 = WIZCHIP_READ(Sn_RX_RSR(sn));
 817              		.loc 1 212 27
 818 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 819 0014 9B00     		lsls	r3, r3, #2
 820 0016 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 19


 821 0018 DB00     		lsls	r3, r3, #3
 822 001a 03F51853 		add	r3, r3, #9728
 823              		.loc 1 212 14
 824 001e 1846     		mov	r0, r3
 825 0020 FFF7FEFF 		bl	WIZCHIP_READ
 826 0024 0346     		mov	r3, r0
 827              		.loc 1 212 12
 828 0026 BB81     		strh	r3, [r7, #12]	@ movhi
 213:ioLIB/W5500/w5500.c ****       val1 = (val1 << 8) + WIZCHIP_READ(WIZCHIP_OFFSET_INC(Sn_RX_RSR(sn),1));
 829              		.loc 1 213 20
 830 0028 BB89     		ldrh	r3, [r7, #12]	@ movhi
 831 002a 1B02     		lsls	r3, r3, #8
 832 002c 9CB2     		uxth	r4, r3
 833              		.loc 1 213 41
 834 002e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 835 0030 9B00     		lsls	r3, r3, #2
 836 0032 0133     		adds	r3, r3, #1
 837 0034 DB00     		lsls	r3, r3, #3
 838 0036 03F51C53 		add	r3, r3, #9984
 839              		.loc 1 213 28
 840 003a 1846     		mov	r0, r3
 841 003c FFF7FEFF 		bl	WIZCHIP_READ
 842 0040 0346     		mov	r3, r0
 843 0042 9BB2     		uxth	r3, r3
 844              		.loc 1 213 12
 845 0044 2344     		add	r3, r3, r4
 846 0046 BB81     		strh	r3, [r7, #12]	@ movhi
 214:ioLIB/W5500/w5500.c ****       if (val1 != 0)
 847              		.loc 1 214 10
 848 0048 BB89     		ldrh	r3, [r7, #12]
 849 004a 002B     		cmp	r3, #0
 850 004c 1AD0     		beq	.L33
 215:ioLIB/W5500/w5500.c ****       {
 216:ioLIB/W5500/w5500.c ****         val = WIZCHIP_READ(Sn_RX_RSR(sn));
 851              		.loc 1 216 28
 852 004e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 853 0050 9B00     		lsls	r3, r3, #2
 854 0052 0133     		adds	r3, r3, #1
 855 0054 DB00     		lsls	r3, r3, #3
 856 0056 03F51853 		add	r3, r3, #9728
 857              		.loc 1 216 15
 858 005a 1846     		mov	r0, r3
 859 005c FFF7FEFF 		bl	WIZCHIP_READ
 860 0060 0346     		mov	r3, r0
 861              		.loc 1 216 13
 862 0062 FB81     		strh	r3, [r7, #14]	@ movhi
 217:ioLIB/W5500/w5500.c ****         val = (val << 8) + WIZCHIP_READ(WIZCHIP_OFFSET_INC(Sn_RX_RSR(sn),1));
 863              		.loc 1 217 20
 864 0064 FB89     		ldrh	r3, [r7, #14]	@ movhi
 865 0066 1B02     		lsls	r3, r3, #8
 866 0068 9CB2     		uxth	r4, r3
 867              		.loc 1 217 41
 868 006a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 869 006c 9B00     		lsls	r3, r3, #2
 870 006e 0133     		adds	r3, r3, #1
 871 0070 DB00     		lsls	r3, r3, #3
 872 0072 03F51C53 		add	r3, r3, #9984
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 20


 873              		.loc 1 217 28
 874 0076 1846     		mov	r0, r3
 875 0078 FFF7FEFF 		bl	WIZCHIP_READ
 876 007c 0346     		mov	r3, r0
 877 007e 9BB2     		uxth	r3, r3
 878              		.loc 1 217 13
 879 0080 2344     		add	r3, r3, r4
 880 0082 FB81     		strh	r3, [r7, #14]	@ movhi
 881              	.L33:
 218:ioLIB/W5500/w5500.c ****       }
 219:ioLIB/W5500/w5500.c ****    }while (val != val1);
 882              		.loc 1 219 4
 883 0084 FA89     		ldrh	r2, [r7, #14]
 884 0086 BB89     		ldrh	r3, [r7, #12]
 885 0088 9A42     		cmp	r2, r3
 886 008a C2D1     		bne	.L34
 220:ioLIB/W5500/w5500.c ****    return val;
 887              		.loc 1 220 11
 888 008c FB89     		ldrh	r3, [r7, #14]
 221:ioLIB/W5500/w5500.c **** }
 889              		.loc 1 221 1
 890 008e 1846     		mov	r0, r3
 891 0090 1437     		adds	r7, r7, #20
 892              	.LCFI28:
 893              		.cfi_def_cfa_offset 12
 894 0092 BD46     		mov	sp, r7
 895              	.LCFI29:
 896              		.cfi_def_cfa_register 13
 897              		@ sp needed
 898 0094 90BD     		pop	{r4, r7, pc}
 899              		.cfi_endproc
 900              	.LFE5:
 902              		.section	.text.wiz_send_data,"ax",%progbits
 903              		.align	1
 904              		.global	wiz_send_data
 905              		.syntax unified
 906              		.thumb
 907              		.thumb_func
 909              	wiz_send_data:
 910              	.LFB6:
 222:ioLIB/W5500/w5500.c **** 
 223:ioLIB/W5500/w5500.c **** void wiz_send_data(uint8_t sn, uint8_t *wizdata, uint16_t len)
 224:ioLIB/W5500/w5500.c **** {
 911              		.loc 1 224 1
 912              		.cfi_startproc
 913              		@ args = 0, pretend = 0, frame = 16
 914              		@ frame_needed = 1, uses_anonymous_args = 0
 915 0000 90B5     		push	{r4, r7, lr}
 916              	.LCFI30:
 917              		.cfi_def_cfa_offset 12
 918              		.cfi_offset 4, -12
 919              		.cfi_offset 7, -8
 920              		.cfi_offset 14, -4
 921 0002 85B0     		sub	sp, sp, #20
 922              	.LCFI31:
 923              		.cfi_def_cfa_offset 32
 924 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 21


 925              	.LCFI32:
 926              		.cfi_def_cfa_register 7
 927 0006 0346     		mov	r3, r0
 928 0008 3960     		str	r1, [r7]
 929 000a FB71     		strb	r3, [r7, #7]
 930 000c 1346     		mov	r3, r2	@ movhi
 931 000e BB80     		strh	r3, [r7, #4]	@ movhi
 225:ioLIB/W5500/w5500.c ****    uint16_t ptr = 0;
 932              		.loc 1 225 13
 933 0010 0023     		movs	r3, #0
 934 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 226:ioLIB/W5500/w5500.c ****    uint32_t addrsel = 0;
 935              		.loc 1 226 13
 936 0014 0023     		movs	r3, #0
 937 0016 BB60     		str	r3, [r7, #8]
 227:ioLIB/W5500/w5500.c **** 
 228:ioLIB/W5500/w5500.c ****    if(len == 0)  return;
 938              		.loc 1 228 6
 939 0018 BB88     		ldrh	r3, [r7, #4]
 940 001a 002B     		cmp	r3, #0
 941 001c 48D0     		beq	.L39
 229:ioLIB/W5500/w5500.c ****    ptr = getSn_TX_WR(sn);
 942              		.loc 1 229 10
 943 001e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 944 0020 9B00     		lsls	r3, r3, #2
 945 0022 0133     		adds	r3, r3, #1
 946 0024 DB00     		lsls	r3, r3, #3
 947 0026 03F51053 		add	r3, r3, #9216
 948 002a 1846     		mov	r0, r3
 949 002c FFF7FEFF 		bl	WIZCHIP_READ
 950 0030 0346     		mov	r3, r0
 951 0032 9BB2     		uxth	r3, r3
 952 0034 1B02     		lsls	r3, r3, #8
 953 0036 9CB2     		uxth	r4, r3
 954 0038 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 955 003a 9B00     		lsls	r3, r3, #2
 956 003c 0133     		adds	r3, r3, #1
 957 003e DB00     		lsls	r3, r3, #3
 958 0040 03F51453 		add	r3, r3, #9472
 959 0044 1846     		mov	r0, r3
 960 0046 FFF7FEFF 		bl	WIZCHIP_READ
 961 004a 0346     		mov	r3, r0
 962 004c 9BB2     		uxth	r3, r3
 963              		.loc 1 229 8
 964 004e 2344     		add	r3, r3, r4
 965 0050 FB81     		strh	r3, [r7, #14]	@ movhi
 230:ioLIB/W5500/w5500.c ****    //M20140501 : implict type casting -> explict type casting
 231:ioLIB/W5500/w5500.c ****    //addrsel = (ptr << 8) + (WIZCHIP_TXBUF_BLOCK(sn) << 3);
 232:ioLIB/W5500/w5500.c ****    addrsel = ((uint32_t)ptr << 8) + (WIZCHIP_TXBUF_BLOCK(sn) << 3);
 966              		.loc 1 232 15
 967 0052 FB89     		ldrh	r3, [r7, #14]
 968              		.loc 1 232 29
 969 0054 1B02     		lsls	r3, r3, #8
 970              		.loc 1 232 38
 971 0056 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 972 0058 9200     		lsls	r2, r2, #2
 973 005a 0232     		adds	r2, r2, #2
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 22


 974              		.loc 1 232 62
 975 005c D200     		lsls	r2, r2, #3
 976              		.loc 1 232 12
 977 005e 1344     		add	r3, r3, r2
 978 0060 BB60     		str	r3, [r7, #8]
 233:ioLIB/W5500/w5500.c ****    //
 234:ioLIB/W5500/w5500.c ****    WIZCHIP_WRITE_BUF(addrsel,wizdata, len);
 979              		.loc 1 234 4
 980 0062 BB88     		ldrh	r3, [r7, #4]
 981 0064 1A46     		mov	r2, r3
 982 0066 3968     		ldr	r1, [r7]
 983 0068 B868     		ldr	r0, [r7, #8]
 984 006a FFF7FEFF 		bl	WIZCHIP_WRITE_BUF
 235:ioLIB/W5500/w5500.c ****    
 236:ioLIB/W5500/w5500.c ****    ptr += len;
 985              		.loc 1 236 8
 986 006e FA89     		ldrh	r2, [r7, #14]	@ movhi
 987 0070 BB88     		ldrh	r3, [r7, #4]	@ movhi
 988 0072 1344     		add	r3, r3, r2
 989 0074 FB81     		strh	r3, [r7, #14]	@ movhi
 237:ioLIB/W5500/w5500.c ****    setSn_TX_WR(sn,ptr);
 990              		.loc 1 237 4
 991 0076 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 992 0078 9B00     		lsls	r3, r3, #2
 993 007a 0133     		adds	r3, r3, #1
 994 007c DB00     		lsls	r3, r3, #3
 995 007e 03F51053 		add	r3, r3, #9216
 996 0082 1A46     		mov	r2, r3
 997 0084 FB89     		ldrh	r3, [r7, #14]
 998 0086 1B0A     		lsrs	r3, r3, #8
 999 0088 9BB2     		uxth	r3, r3
 1000 008a DBB2     		uxtb	r3, r3
 1001 008c 1946     		mov	r1, r3
 1002 008e 1046     		mov	r0, r2
 1003 0090 FFF7FEFF 		bl	WIZCHIP_WRITE
 1004 0094 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1005 0096 9B00     		lsls	r3, r3, #2
 1006 0098 0133     		adds	r3, r3, #1
 1007 009a DB00     		lsls	r3, r3, #3
 1008 009c 03F51453 		add	r3, r3, #9472
 1009 00a0 1A46     		mov	r2, r3
 1010 00a2 FB89     		ldrh	r3, [r7, #14]	@ movhi
 1011 00a4 DBB2     		uxtb	r3, r3
 1012 00a6 1946     		mov	r1, r3
 1013 00a8 1046     		mov	r0, r2
 1014 00aa FFF7FEFF 		bl	WIZCHIP_WRITE
 1015 00ae 00E0     		b	.L36
 1016              	.L39:
 228:ioLIB/W5500/w5500.c ****    ptr = getSn_TX_WR(sn);
 1017              		.loc 1 228 18
 1018 00b0 00BF     		nop
 1019              	.L36:
 238:ioLIB/W5500/w5500.c **** }
 1020              		.loc 1 238 1
 1021 00b2 1437     		adds	r7, r7, #20
 1022              	.LCFI33:
 1023              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 23


 1024 00b4 BD46     		mov	sp, r7
 1025              	.LCFI34:
 1026              		.cfi_def_cfa_register 13
 1027              		@ sp needed
 1028 00b6 90BD     		pop	{r4, r7, pc}
 1029              		.cfi_endproc
 1030              	.LFE6:
 1032              		.section	.text.wiz_recv_data,"ax",%progbits
 1033              		.align	1
 1034              		.global	wiz_recv_data
 1035              		.syntax unified
 1036              		.thumb
 1037              		.thumb_func
 1039              	wiz_recv_data:
 1040              	.LFB7:
 239:ioLIB/W5500/w5500.c **** 
 240:ioLIB/W5500/w5500.c **** void wiz_recv_data(uint8_t sn, uint8_t *wizdata, uint16_t len)
 241:ioLIB/W5500/w5500.c **** {
 1041              		.loc 1 241 1
 1042              		.cfi_startproc
 1043              		@ args = 0, pretend = 0, frame = 16
 1044              		@ frame_needed = 1, uses_anonymous_args = 0
 1045 0000 90B5     		push	{r4, r7, lr}
 1046              	.LCFI35:
 1047              		.cfi_def_cfa_offset 12
 1048              		.cfi_offset 4, -12
 1049              		.cfi_offset 7, -8
 1050              		.cfi_offset 14, -4
 1051 0002 85B0     		sub	sp, sp, #20
 1052              	.LCFI36:
 1053              		.cfi_def_cfa_offset 32
 1054 0004 00AF     		add	r7, sp, #0
 1055              	.LCFI37:
 1056              		.cfi_def_cfa_register 7
 1057 0006 0346     		mov	r3, r0
 1058 0008 3960     		str	r1, [r7]
 1059 000a FB71     		strb	r3, [r7, #7]
 1060 000c 1346     		mov	r3, r2	@ movhi
 1061 000e BB80     		strh	r3, [r7, #4]	@ movhi
 242:ioLIB/W5500/w5500.c ****    uint16_t ptr = 0;
 1062              		.loc 1 242 13
 1063 0010 0023     		movs	r3, #0
 1064 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 243:ioLIB/W5500/w5500.c ****    uint32_t addrsel = 0;
 1065              		.loc 1 243 13
 1066 0014 0023     		movs	r3, #0
 1067 0016 BB60     		str	r3, [r7, #8]
 244:ioLIB/W5500/w5500.c ****    
 245:ioLIB/W5500/w5500.c ****    if(len == 0) return;
 1068              		.loc 1 245 6
 1069 0018 BB88     		ldrh	r3, [r7, #4]
 1070 001a 002B     		cmp	r3, #0
 1071 001c 48D0     		beq	.L43
 246:ioLIB/W5500/w5500.c ****    ptr = getSn_RX_RD(sn);
 1072              		.loc 1 246 10
 1073 001e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1074 0020 9B00     		lsls	r3, r3, #2
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 24


 1075 0022 0133     		adds	r3, r3, #1
 1076 0024 DB00     		lsls	r3, r3, #3
 1077 0026 03F52053 		add	r3, r3, #10240
 1078 002a 1846     		mov	r0, r3
 1079 002c FFF7FEFF 		bl	WIZCHIP_READ
 1080 0030 0346     		mov	r3, r0
 1081 0032 9BB2     		uxth	r3, r3
 1082 0034 1B02     		lsls	r3, r3, #8
 1083 0036 9CB2     		uxth	r4, r3
 1084 0038 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1085 003a 9B00     		lsls	r3, r3, #2
 1086 003c 0133     		adds	r3, r3, #1
 1087 003e DB00     		lsls	r3, r3, #3
 1088 0040 03F52453 		add	r3, r3, #10496
 1089 0044 1846     		mov	r0, r3
 1090 0046 FFF7FEFF 		bl	WIZCHIP_READ
 1091 004a 0346     		mov	r3, r0
 1092 004c 9BB2     		uxth	r3, r3
 1093              		.loc 1 246 8
 1094 004e 2344     		add	r3, r3, r4
 1095 0050 FB81     		strh	r3, [r7, #14]	@ movhi
 247:ioLIB/W5500/w5500.c ****    //M20140501 : implict type casting -> explict type casting
 248:ioLIB/W5500/w5500.c ****    //addrsel = ((ptr << 8) + (WIZCHIP_RXBUF_BLOCK(sn) << 3);
 249:ioLIB/W5500/w5500.c ****    addrsel = ((uint32_t)ptr << 8) + (WIZCHIP_RXBUF_BLOCK(sn) << 3);
 1096              		.loc 1 249 15
 1097 0052 FB89     		ldrh	r3, [r7, #14]
 1098              		.loc 1 249 29
 1099 0054 1B02     		lsls	r3, r3, #8
 1100              		.loc 1 249 38
 1101 0056 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1102 0058 9200     		lsls	r2, r2, #2
 1103 005a 0332     		adds	r2, r2, #3
 1104              		.loc 1 249 62
 1105 005c D200     		lsls	r2, r2, #3
 1106              		.loc 1 249 12
 1107 005e 1344     		add	r3, r3, r2
 1108 0060 BB60     		str	r3, [r7, #8]
 250:ioLIB/W5500/w5500.c ****    //
 251:ioLIB/W5500/w5500.c ****    WIZCHIP_READ_BUF(addrsel, wizdata, len);
 1109              		.loc 1 251 4
 1110 0062 BB88     		ldrh	r3, [r7, #4]
 1111 0064 1A46     		mov	r2, r3
 1112 0066 3968     		ldr	r1, [r7]
 1113 0068 B868     		ldr	r0, [r7, #8]
 1114 006a FFF7FEFF 		bl	WIZCHIP_READ_BUF
 252:ioLIB/W5500/w5500.c ****    ptr += len;
 1115              		.loc 1 252 8
 1116 006e FA89     		ldrh	r2, [r7, #14]	@ movhi
 1117 0070 BB88     		ldrh	r3, [r7, #4]	@ movhi
 1118 0072 1344     		add	r3, r3, r2
 1119 0074 FB81     		strh	r3, [r7, #14]	@ movhi
 253:ioLIB/W5500/w5500.c ****    
 254:ioLIB/W5500/w5500.c ****    setSn_RX_RD(sn,ptr);
 1120              		.loc 1 254 4
 1121 0076 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1122 0078 9B00     		lsls	r3, r3, #2
 1123 007a 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 25


 1124 007c DB00     		lsls	r3, r3, #3
 1125 007e 03F52053 		add	r3, r3, #10240
 1126 0082 1A46     		mov	r2, r3
 1127 0084 FB89     		ldrh	r3, [r7, #14]
 1128 0086 1B0A     		lsrs	r3, r3, #8
 1129 0088 9BB2     		uxth	r3, r3
 1130 008a DBB2     		uxtb	r3, r3
 1131 008c 1946     		mov	r1, r3
 1132 008e 1046     		mov	r0, r2
 1133 0090 FFF7FEFF 		bl	WIZCHIP_WRITE
 1134 0094 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1135 0096 9B00     		lsls	r3, r3, #2
 1136 0098 0133     		adds	r3, r3, #1
 1137 009a DB00     		lsls	r3, r3, #3
 1138 009c 03F52453 		add	r3, r3, #10496
 1139 00a0 1A46     		mov	r2, r3
 1140 00a2 FB89     		ldrh	r3, [r7, #14]	@ movhi
 1141 00a4 DBB2     		uxtb	r3, r3
 1142 00a6 1946     		mov	r1, r3
 1143 00a8 1046     		mov	r0, r2
 1144 00aa FFF7FEFF 		bl	WIZCHIP_WRITE
 1145 00ae 00E0     		b	.L40
 1146              	.L43:
 245:ioLIB/W5500/w5500.c ****    ptr = getSn_RX_RD(sn);
 1147              		.loc 1 245 17
 1148 00b0 00BF     		nop
 1149              	.L40:
 255:ioLIB/W5500/w5500.c **** }
 1150              		.loc 1 255 1
 1151 00b2 1437     		adds	r7, r7, #20
 1152              	.LCFI38:
 1153              		.cfi_def_cfa_offset 12
 1154 00b4 BD46     		mov	sp, r7
 1155              	.LCFI39:
 1156              		.cfi_def_cfa_register 13
 1157              		@ sp needed
 1158 00b6 90BD     		pop	{r4, r7, pc}
 1159              		.cfi_endproc
 1160              	.LFE7:
 1162              		.section	.text.wiz_recv_ignore,"ax",%progbits
 1163              		.align	1
 1164              		.global	wiz_recv_ignore
 1165              		.syntax unified
 1166              		.thumb
 1167              		.thumb_func
 1169              	wiz_recv_ignore:
 1170              	.LFB8:
 256:ioLIB/W5500/w5500.c **** 
 257:ioLIB/W5500/w5500.c **** 
 258:ioLIB/W5500/w5500.c **** void wiz_recv_ignore(uint8_t sn, uint16_t len)
 259:ioLIB/W5500/w5500.c **** {
 1171              		.loc 1 259 1
 1172              		.cfi_startproc
 1173              		@ args = 0, pretend = 0, frame = 16
 1174              		@ frame_needed = 1, uses_anonymous_args = 0
 1175 0000 90B5     		push	{r4, r7, lr}
 1176              	.LCFI40:
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 26


 1177              		.cfi_def_cfa_offset 12
 1178              		.cfi_offset 4, -12
 1179              		.cfi_offset 7, -8
 1180              		.cfi_offset 14, -4
 1181 0002 85B0     		sub	sp, sp, #20
 1182              	.LCFI41:
 1183              		.cfi_def_cfa_offset 32
 1184 0004 00AF     		add	r7, sp, #0
 1185              	.LCFI42:
 1186              		.cfi_def_cfa_register 7
 1187 0006 0346     		mov	r3, r0
 1188 0008 0A46     		mov	r2, r1
 1189 000a FB71     		strb	r3, [r7, #7]
 1190 000c 1346     		mov	r3, r2	@ movhi
 1191 000e BB80     		strh	r3, [r7, #4]	@ movhi
 260:ioLIB/W5500/w5500.c ****    uint16_t ptr = 0;
 1192              		.loc 1 260 13
 1193 0010 0023     		movs	r3, #0
 1194 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 261:ioLIB/W5500/w5500.c **** 
 262:ioLIB/W5500/w5500.c ****    ptr = getSn_RX_RD(sn);
 1195              		.loc 1 262 10
 1196 0014 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1197 0016 9B00     		lsls	r3, r3, #2
 1198 0018 0133     		adds	r3, r3, #1
 1199 001a DB00     		lsls	r3, r3, #3
 1200 001c 03F52053 		add	r3, r3, #10240
 1201 0020 1846     		mov	r0, r3
 1202 0022 FFF7FEFF 		bl	WIZCHIP_READ
 1203 0026 0346     		mov	r3, r0
 1204 0028 9BB2     		uxth	r3, r3
 1205 002a 1B02     		lsls	r3, r3, #8
 1206 002c 9CB2     		uxth	r4, r3
 1207 002e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1208 0030 9B00     		lsls	r3, r3, #2
 1209 0032 0133     		adds	r3, r3, #1
 1210 0034 DB00     		lsls	r3, r3, #3
 1211 0036 03F52453 		add	r3, r3, #10496
 1212 003a 1846     		mov	r0, r3
 1213 003c FFF7FEFF 		bl	WIZCHIP_READ
 1214 0040 0346     		mov	r3, r0
 1215 0042 9BB2     		uxth	r3, r3
 1216              		.loc 1 262 8
 1217 0044 2344     		add	r3, r3, r4
 1218 0046 FB81     		strh	r3, [r7, #14]	@ movhi
 263:ioLIB/W5500/w5500.c ****    ptr += len;
 1219              		.loc 1 263 8
 1220 0048 FA89     		ldrh	r2, [r7, #14]	@ movhi
 1221 004a BB88     		ldrh	r3, [r7, #4]	@ movhi
 1222 004c 1344     		add	r3, r3, r2
 1223 004e FB81     		strh	r3, [r7, #14]	@ movhi
 264:ioLIB/W5500/w5500.c ****    setSn_RX_RD(sn,ptr);
 1224              		.loc 1 264 4
 1225 0050 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1226 0052 9B00     		lsls	r3, r3, #2
 1227 0054 0133     		adds	r3, r3, #1
 1228 0056 DB00     		lsls	r3, r3, #3
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 27


 1229 0058 03F52053 		add	r3, r3, #10240
 1230 005c 1A46     		mov	r2, r3
 1231 005e FB89     		ldrh	r3, [r7, #14]
 1232 0060 1B0A     		lsrs	r3, r3, #8
 1233 0062 9BB2     		uxth	r3, r3
 1234 0064 DBB2     		uxtb	r3, r3
 1235 0066 1946     		mov	r1, r3
 1236 0068 1046     		mov	r0, r2
 1237 006a FFF7FEFF 		bl	WIZCHIP_WRITE
 1238 006e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1239 0070 9B00     		lsls	r3, r3, #2
 1240 0072 0133     		adds	r3, r3, #1
 1241 0074 DB00     		lsls	r3, r3, #3
 1242 0076 03F52453 		add	r3, r3, #10496
 1243 007a 1A46     		mov	r2, r3
 1244 007c FB89     		ldrh	r3, [r7, #14]	@ movhi
 1245 007e DBB2     		uxtb	r3, r3
 1246 0080 1946     		mov	r1, r3
 1247 0082 1046     		mov	r0, r2
 1248 0084 FFF7FEFF 		bl	WIZCHIP_WRITE
 265:ioLIB/W5500/w5500.c **** }
 1249              		.loc 1 265 1
 1250 0088 00BF     		nop
 1251 008a 1437     		adds	r7, r7, #20
 1252              	.LCFI43:
 1253              		.cfi_def_cfa_offset 12
 1254 008c BD46     		mov	sp, r7
 1255              	.LCFI44:
 1256              		.cfi_def_cfa_register 13
 1257              		@ sp needed
 1258 008e 90BD     		pop	{r4, r7, pc}
 1259              		.cfi_endproc
 1260              	.LFE8:
 1262              		.text
 1263              	.Letext0:
 1264              		.file 2 "d:\\gcc arm\\10 2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
 1265              		.file 3 "d:\\gcc arm\\10 2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 1266              		.file 4 "ioLIB/W5500/../wizchip_conf.h"
ARM GAS  C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s 			page 28


DEFINED SYMBOLS
                            *ABS*:00000000 w5500.c
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:20     .text.WIZCHIP_READ:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:26     .text.WIZCHIP_READ:00000000 WIZCHIP_READ
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:162    .text.WIZCHIP_READ:00000094 $d
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:167    .text.WIZCHIP_WRITE:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:173    .text.WIZCHIP_WRITE:00000000 WIZCHIP_WRITE
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:308    .text.WIZCHIP_WRITE:00000098 $d
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:313    .text.WIZCHIP_READ_BUF:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:319    .text.WIZCHIP_READ_BUF:00000000 WIZCHIP_READ_BUF
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:487    .text.WIZCHIP_READ_BUF:000000bc $d
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:492    .text.WIZCHIP_WRITE_BUF:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:498    .text.WIZCHIP_WRITE_BUF:00000000 WIZCHIP_WRITE_BUF
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:660    .text.WIZCHIP_WRITE_BUF:000000bc $d
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:665    .text.getSn_TX_FSR:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:671    .text.getSn_TX_FSR:00000000 getSn_TX_FSR
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:784    .text.getSn_RX_RSR:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:790    .text.getSn_RX_RSR:00000000 getSn_RX_RSR
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:903    .text.wiz_send_data:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:909    .text.wiz_send_data:00000000 wiz_send_data
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:1033   .text.wiz_recv_data:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:1039   .text.wiz_recv_data:00000000 wiz_recv_data
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:1163   .text.wiz_recv_ignore:00000000 $t
C:\Users\clay0\AppData\Local\Temp\ccC7QgAA.s:1169   .text.wiz_recv_ignore:00000000 wiz_recv_ignore

UNDEFINED SYMBOLS
WIZCHIP
